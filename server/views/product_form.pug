extends layout

block content
  h1.text-xl.text-indigo-300.text-center= title

  div.bg-gray-900.m-2.rounded-lg
    form(method='POST' action='')
      div.flex.flex-col.flex-wrap.items-center.justify-center.text-base
        h1.text-white.m-2 * Please fill out all fields.

        label.mt-2.text-white.px-2(for='name') Name: 

        input.rounded-md#name(type='text', placheholder="Product name" name='name' required='true' value=(undefined === product ? '' : product.name))

        label.mt-2.text-white.px-2(for='stockNumber') Stock Number: 

        input.rounded-md#stockNumber(
        type='text', 
        placheholder="Enter stock number" 
        name='stockNumber' required='true' 
        value=(undefined === product ? '' : product.stockNumber))
        
        label.mt-2.text-white.px-2(for='description') Description: 
        textarea.rounded-md#description(type='textarea' placheholder='Provide a description' name='description' required='true' value=(undefined === product ? '' : product.description))

        //- label.mt-2.text-white.px-2(for='price') Price: 
        //- input.rounded-md.text-black#price(type='number', step="0.01" min="0" placheholder='Retail price' name='price' required='true' value=(undefined === product ? '' : product.price))

        //- label.mt-2.text-white.px-2(for='packageSize') Package size: 
        //- input.rounded-md#packageSize(type='text', placheholder='Package size' name='packageSize' required='true' value=(undefined === product ? '' : product.packageSize))

        //- label.mt-2.text-white.px-2(for='quantity') In stock quantity: 
        //- input.rounded-md#quantity(type='number', placheholder='In stock quantity' name='quantity' required='true' value=(undefined === product ? '' : product.quantity))

        label.mt-2.text-white.px-2(for='department') Department:

        select.rounded-md#department(type='select', placheholder='Select department' name='department' required='true' )
          for department in departments 
            if product 
              option(value=department._id selected=(department._id.toString()===product.department._id.toString() ? 'selected' : false) ) #{department.name} 
            else
              option(value=department._id) #{department.name}
        
        label.mt-2.text-white.px-2(for='category') Category:

        select.rounded-md#category(type='select', placheholder='Select category' name='category' required='true' )
          for category in categories 
            if product 
              option(value=category._id selected=(category._id===product.category._id ? 'selected' : false)) #{category.name} 
            else
              option(value=category._id) #{category.name}
        
        label.mt-2.text-white.px-2.pb-2(for='subcategory') Sub-Category:

        select.rounded-md.mb-2#subcategory(type='select', placheholder='Select subcategory' name='subcategory' required='true' )
          for subcategory in subcategories 
            if product 
              option(value=subcategory._id selected=(subcategory._id===product.subcategory._id ? 'selected' : false)) #{category.name} 
            else
              option(value=subcategory._id) #{subcategory.name}
        

        div.m-2
          button.text-white.p-2.bg-indigo-500.rounded-lg.hover_bg-indigo-600.mb-2(type='submit') Submit
      if errors 
        ul 
          for error in errors 
            li!= error.msg
        
    


